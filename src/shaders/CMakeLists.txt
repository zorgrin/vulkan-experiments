cmake_minimum_required(VERSION 3.1)

PROJECT(shaders)

SET(SHADER_TEST_FILES
    gpass/vs.glsl
    gpass/fs.glsl
    
    test/vs.glsl
    test/fs.glsl
)

SET(GLSL_SHADERS
    ${SHADER_TEST_FILES}
)

ADD_CUSTOM_TARGET(${PROJECT_NAME}
    ALL
    DEPENDS ${GLSL_SHADERS}
)

SET(GLSL_COMPILER_DIR ${PROJECT_BINARY_OUTPUT_DIR}/${OUTPUT_DIR_SUFFIX}/glsl-compiler)

ADD_CUSTOM_COMMAND(
    TARGET ${PROJECT_NAME}
    DEPENDS ${GLSL_SHADERS}
    COMMAND ${GLSL_COMPILER_DIR} ${GLSLANG_VALIDATOR} ${CMAKE_SOURCE_DIR}/shaders ${PROJECT_BINARY_OUTPUT_DIR}
    SOURCES ${GLSL_SHADERS}
)

